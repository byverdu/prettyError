function _optionsConfig(e){var r,t=e||{},o=t.classError||"prettyFormError",n=t.callToAction||"button",i=t.elementError||"div",c=t.focusErrorOnClick||!0,l={fadeOut:!1,timer:0},a={enabled:!1,selector:".multiCheckbox"},u=t.fadeOutError||l,d=t.multiCheckbox||a;if(r="positionMethod"in t?"after"===t.positionMethod?"afterend":"beforebegin":"afterend",isNaN(Number(u.timer))){var s="fadeOutError.timer options is not a number";console.error(s),u.timer=6e3}else u.timer=Number(u.timer);return{classError:o,elementError:i,positionMethod:r,multiCheckbox:d,callToAction:n,focusErrorOnClick:c,fadeOutError:u}}function _getInvalidElems(e){var r=e.querySelectorAll(":invalid:not(fieldset)"),t=[];return[].forEach.call(r,function(e){e.validity.valid||t.push(e)}),t}function _changeHandler(e,r){var t=document.querySelectorAll(r+":checked").length;if(t>0)for(var o=0;o<e.length;o++)e[o].removeAttribute("required");else for(var n=0;n<e.length;n++)e[n].setAttribute("required","required")}function _showErrorForInvalidSelector(e,r){if(0===e.length){var t="I couldn't fine any DOM element for the selector \""+r+'"';console.warn(t)}}function PrettyFormErrorInstance(e,r){function t(e){if(e){var r=e.querySelectorAll("."+l.classError);[].forEach.call(r,function(e){e.remove()})}}function o(e,r,t){var o=document.createElement(e);o.classList.add(l.classError),o.textContent=r.validationMessage,r.insertAdjacentElement(t,o)}function n(){return new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.length>0&&e.addedNodes[0].classList.add("prettyFormError-fade")})})}function i(e,r){r.preventDefault();var i=_getInvalidElems(e);if(document.querySelector("."+l.classError)&&t(e),[].forEach.call(i,function(e){o(l.elementError,e,l.positionMethod)}),l.focusErrorOnClick&&i.length>0&&i[0].focus(),l.fadeOutError.fadeOut){var c=n();const a={attributes:!0,childList:!0,characterData:!0};c.observe(e,a),setTimeout(function(){t(e)},l.fadeOutError.timer),0===i.length&&(c.disconnect(),c=null)}if(l.multiCheckbox.enabled){var u=l.multiCheckbox.selector,d=document.querySelectorAll(u);[].forEach.call(d,function(e){e.addEventListener("change",function(){_changeHandler(d,u)})})}if(0===i.length){var s=e.querySelectorAll(":valid");[].forEach.call(s,function(e){e.value=""}),e.submit()}}function c(e){var r=e.querySelector(l.callToAction),t=i.bind(event,e);r&&(document.addEventListener("instance-created",function(){r&&r.removeEventListener("click",t)}),r.addEventListener("click",t))}this.options=_optionsConfig(r);var l=this.options;if(document.dispatchEvent(new CustomEvent("instance-created")),"undefined"==typeof jQuery){var a=document.querySelectorAll(e);_showErrorForInvalidSelector(a,e),[].forEach.call(a,function(e){c(e)})}else{var u=$(e);_showErrorForInvalidSelector(u,e),$.each(u,function(e,r){c(r)})}}function prettyFormError(e,r){return new PrettyFormErrorInstance(e,r)}"undefined"!=typeof jQuery&&($.fn.prettyFormError=function(e){var r="prettyFormError",t="plugin_"+r;return this.each(function(){$.data(this,t)||$.data(this,t,prettyFormError(this,e))})}),"prettyFormError"in window||(window.prettyFormError=prettyFormError),"object"==typeof module&&"object"==typeof module.exports&&(module.exports=prettyFormError);
//# sourceMappingURL=prettyFormError.min.js.map
